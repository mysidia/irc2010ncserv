/*
 *   pIrcd cases conversion source file                        src/port/case.c
 *   Copyright C 1998 pIrcd Authors
 *   Copyright C 1998 Mysidia <***REMOVED***> <Mysidia>
 *   see file 'AUTHORS' for a comprehensive list of pIrcd authors
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the file 'LICENSE' included with this package
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *
 */
#include <ctype.h>
#include "pircd.h"
#undef toupper
#undef tolower

unsigned char cmptab[] =
{
       0,       1,       2,       3,       4,       5,  /* control */
       6,       7,       8,       9,      10,      11,
      12,      13,      14,      15,      16,      17,
      18,      19,      20,      21,      22,      23,
      24,     25,       26,      27,      28,     29,
      30,     31,      ' ',     '!',     '"',     '#',
     '$',     '%',     '&',     '\'',    '(',     ')',
     '*',     '+',     ',',     '-',     '.',     '/',
     '0',     '1',     '2',     '3',     '4',     '5',
     '6',     '7',     '8',     '9',
     ':',     ';',     '<',     '=',    '>',      '?',
     '@',
     /* alpha */
     'A',      'B',    'C',     'D',    'E',      'F',
     'G',      'H',    'I',     'J',    'K',      'L',
     'M',      'N',    'O',     'P',    'Q',      'R',
     'S',      'T',    'U',     'V',    'W',      'X',
     'Y',      'Z',    '[',      '\\',   ']',     '^',
     '_',      '`',
     'a',      'b',    'c',     'd',    'e',      'f',
     'g',      'h',    'i',     'j',    'k',      'l',
     'm',      'n',    'o',     'p',    'q',      'r',
     's',      't',    'u',     'v',    'w',      'x',
     'y',      'z',    '{',     '|',    '}',      '~',
     127,      128,     129,     130,     131,     132,     133,     134,     
     135,      136,     137,     138,     139,     140,     141,     142,
     143,      144,     145,     146,     147,     148,     149,     150,
     151,      152,     153,     154,     155,     156,     157,     158,
     159,      160,     161,     162,     163,     164,     165,     166,
     167,      168,     169,     170,     171,     172,     173,     174,
     175,      176,     177,     178,     179,     180,     181,     182,
     183,      184,     185,     186,     187,     188,     189,     190,
     191,      192,     193,     194,     195,     196,     197,     198,
     199,      200,     201,     202,     203,     204,     205,     206,
     207,      208,     209,     210,     211,     212,     213,     214,
     215,      216,     217,     218,     219,     220,     221,     222,
     223,      224,     225,     226,     227,     228,     229,     230,
     231,      232,     233,     234,     235,     236,     237,     238,
     239,      240,     241,     242,     243,     244,     245,     246,
     247,      248,     249,     250,     251,     252,     253,     254,
     255,      0,       0,       0,       0,       0,       0,       0
};


unsigned char lowertab[] =
{
       0,       1,       2,       3,       4,       5,  /* control */
       6,       7,       8,       9,      10,      11,
      12,      13,      14,      15,      16,      17,
      18,      19,      20,      21,      22,      23,
      24,     25,       26,      27,      28,     29,
      30,     31,      ' ',     '!',     '"',     '#',
     '$',     '%',     '&',     '\'',    '(',     ')',
     '*',     '+',     ',',     '-',     '.',     '/',
     '0',     '1',     '2',     '3',     '4',     '5',
     '6',     '7',     '8',     '9',
     ':',     ';',     '<',     '=',    '>',      '?',
     '@',
     /* alpha */
     'a',      'b',    'c',     'd',    'e',      'f',
     'g',      'h',    'i',     'j',    'k',      'l',
     'm',      'n',    'o',     'p',    'q',      'r',
     's',      't',    'u',     'v',    'w',      'x',
     'y',      'z',    '{',     '|',    '}',      '~',
     '_',      '`',
     'a',      'b',    'c',     'd',    'e',      'f',
     'g',      'h',    'i',     'j',    'k',      'l',
     'm',      'n',    'o',     'p',    'q',      'r',
     's',      't',    'u',     'v',    'w',      'x',
     'y',      'z',    '{',     '|',    '}',      '~',
     127,      128,     129,     130,     131,     132,     133,     134,     
     135,      136,     137,     138,     139,     140,     141,     142,
     143,      144,     145,     146,     147,     148,     149,     150,
     151,      152,     153,     154,     155,     156,     157,     158,
     159,      160,     161,     162,     163,     164,     165,     166,
     167,      168,     169,     170,     171,     172,     173,     174,
     175,      176,     177,     178,     179,     180,     181,     182,
     183,      184,     185,     186,     187,     188,     189,     190,
     191,      192,     193,     194,     195,     196,     197,     198,
     199,      200,     201,     202,     203,     204,     205,     206,
     207,      208,     209,     210,     211,     212,     213,     214,
     215,      216,     217,     218,     219,     220,     221,     222,
     223,      224,     225,     226,     227,     228,     229,     230,
     231,      232,     233,     234,     235,     236,     237,     238,
     239,      240,     241,     242,     243,     244,     245,     246,
     247,      248,     249,     250,     251,     252,     253,     254,
     255,      0,       0,       0,       0,       0,       0,       0
};

unsigned char uppertab[] =
{
       0,       1,       2,       3,       4,       5,  /* control */
       6,       7,       8,       9,      10,      11,
      12,      13,      14,      15,      16,      17,
      18,      19,      20,      21,      22,      23,
      24,     25,       26,      27,      28,     29,
      30,     31,      ' ',     '!',     '"',     '#',
     '$',     '%',     '&',     '\'',    '(',     ')',
     '*',     '+',     ',',     '-',     '.',     '/',
     '0',     '1',     '2',     '3',     '4',     '5',
     '6',     '7',     '8',     '9',
     ':',     ';',     '<',     '=',    '>',      '?',
     '@',
     /* alpha */
     'A',      'B',    'C',     'D',    'E',      'F',
     'G',      'H',    'I',     'J',    'K',      'L',
     'M',      'N',    'O',     'P',    'Q',      'R',
     'S',      'T',    'U',     'V',    'W',      'X',
     'Y',      'Z',    '[',      '\\',   ']',     '^',
     '_',      '`',

     'A',      'B',    'C',     'D',    'E',      'F',
     'G',      'H',    'I',     'J',    'K',      'L',
     'M',      'N',    'O',     'P',    'Q',      'R',
     'S',      'T',    'U',     'V',    'W',      'X',
     'Y',      'Z',    '[',      '\\',   ']',     '^',
     127,      128,     129,     130,     131,     132,     133,     134,     
     135,      136,     137,     138,     139,     140,     141,     142,
     143,      144,     145,     146,     147,     148,     149,     150,
     151,      152,     153,     154,     155,     156,     157,     158,
     159,      160,     161,     162,     163,     164,     165,     166,
     167,      168,     169,     170,     171,     172,     173,     174,
     175,      176,     177,     178,     179,     180,     181,     182,
     183,      184,     185,     186,     187,     188,     189,     190,
     191,      192,     193,     194,     195,     196,     197,     198,
     199,      200,     201,     202,     203,     204,     205,     206,
     207,      208,     209,     210,     211,     212,     213,     214,
     215,      216,     217,     218,     219,     220,     221,     222,
     223,      224,     225,     226,     227,     228,     229,     230,
     231,      232,     233,     234,     235,     236,     237,     238,
     239,      240,     241,     242,     243,     244,     245,     246,
     247,      248,     249,     250,     251,     252,     253,     254,
     255,      0,       0,       0,       0,       0,       0,       0
};



unsigned char digit_tab[257], alpha_tab[257];

int init_tabs()
{
    int i = 0;
    for ( i = 0 ; i < 256; i++)
        digit_tab[i] = alpha_tab[i] = 0;
    for ( i = (char)'0'; i <= '9'; i++)
          digit_tab[i] = 1;
    for ( i = (char)'a'; i <= 'z'; i++)
          alpha_tab[i] = 1;
    for ( i = (char)'A'; i <= 'Z'; i++)
          alpha_tab[i] = 1;
    return 0;
}


#define tolower(character) lowertab[(unsigned char)character]
#define toupper(character) uppertab[(unsigned char)character]

int pircd_mycmp(unsigned char *s1, unsigned char *s2)
{
      if (!s1 || !s2) return -666;

      for ( ; *s1 && *s2 ; s1++, s2++)
      {
            if (lowertab[*s1] > lowertab[*s2]) return 1;
            else if (lowertab[*s1] < lowertab[*s2]) return -1;
      }
      return 0;
}

int pircd_mycmp(char *s1, char *s2) {
     return pircd_mycmp((unsigned char *)s1, (unsigned char *)s2);
}


/*
#ifdef __GNUC__
inline
#endif
int tolower(character)
unsigned char character;
{
     return (lowertab[character])
}

*/
